jobs:
  - name: stock
    image:
      repository: cluster.loc:5000/rs-algo-backtest
      tag: latest
      imagePullPolicy: Always
    schedule: "0 5 * * 1"
    failedJobsHistoryLimit: 1
    successfulJobsHistoryLimit: 0
    concurrencyPolicy: Forbid
    restartPolicy: OnFailure
    activeDeadlineSeconds: 7200
    envSecretName: rs-algo-screener-secrets
    resources:
      requests:
        cpu: 800m
      limits:
        cpu: 1200m
        memory: 512Mi
    nodeSelector:
      nodeType: cpu
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: nodeType
              operator: In
              values:
              - cpu
    
